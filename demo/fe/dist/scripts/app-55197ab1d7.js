!function(){"use strict";angular.module("fe",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ui.router","ui.bootstrap","toastr"])}(),function(){"use strict";function t(){function t(){return e}var e=[{title:"AngularJS",url:"https://angularjs.org/",description:"HTML enhanced for web apps!",logo:"angular.png"},{title:"BrowserSync",url:"http://browsersync.io/",description:"Time-saving synchronised browser testing.",logo:"browsersync.png"},{title:"GulpJS",url:"http://gulpjs.com/",description:"The streaming build system.",logo:"gulp.png"},{title:"Jasmine",url:"http://jasmine.github.io/",description:"Behavior-Driven JavaScript.",logo:"jasmine.png"},{title:"Karma",url:"http://karma-runner.github.io/",description:"Spectacular Test Runner for JavaScript.",logo:"karma.png"},{title:"Protractor",url:"https://github.com/angular/protractor",description:"End to end test framework for AngularJS applications built on top of WebDriverJS.",logo:"protractor.png"},{title:"Bootstrap",url:"http://getbootstrap.com/",description:"Bootstrap is the most popular HTML, CSS, and JS framework for developing responsive, mobile first projects on the web.",logo:"bootstrap.png"},{title:"Angular UI Bootstrap",url:"http://angular-ui.github.io/bootstrap/",description:"Bootstrap components written in pure AngularJS by the AngularUI Team.",logo:"ui-bootstrap.png"},{title:"Sass (Node)",url:"https://github.com/sass/node-sass",description:"Node.js binding to libsass, the C version of the popular stylesheet preprocessor, Sass.",logo:"node-sass.png"},{key:"jade",title:"Jade",url:"http://jade-lang.com/",description:"Jade is a high performance template engine heavily influenced by Haml and implemented with JavaScript for node.",logo:"jade.png"}];this.getTec=t}angular.module("fe").service("webDevTec",t)}();var list=[[{id:"c01-01",name:"console-01",ip:"10.0.0.1",module:["nginx","tomcat"],next:["c02-01","c02-02"]},{id:"c01-02",name:"console-02",ip:"10.0.0.2",module:["nginx","tomcat"],next:["c02-01"]}],[{id:"c02-01",name:"openapi-01",ip:"10.0.1.1",module:["tomcat"],next:["c03-01"]},{id:"c02-02",name:"openapi-02",ip:"10.0.1.2",module:["tomcat"],next:["c03-02"]}],[{id:"c03-01",name:"innerapi-01",ip:"10.0.2.1",module:["tomcat"]},{id:"c03-02",name:"innerapi-02",ip:"10.0.2.2",module:["tomcat"]}]];!function(){function t(t,e){var a=250*t[1]+150,n=200*t[0]+150,o=250*e[1]+150,r=200*e[0]+50,l=a,i=(r-n)/2+n,s=o,c=r-(r-n)/2;return["M"+[a,n].join(","),"C"+[l,i].join(","),[s,c].join(","),[o,r].join(",")].join(" ")}function e(e,a,n){var o=this;o.traceId=e.traceId,$(function(){var e=d3.select(".svg-wrap");e.selectAll(".row").data(list).enter().append("div").attr("class",function(t,e){return"row row-"+e});var a=[];_.forEach(list,function(t,n){e.select(".row-"+n).selectAll(".node").data(t).enter().append("div").attr("class",function(t){return"node node-"+t.id}).html(function(t){return"<h3>"+t.name+"</h3><p>"+t.ip+"</p>"}).each(function(t,e){var o=[n,e];_.forEach(t.next,function(t){var e=_.findIndex(list[n+1],["id",t]),r=[n+1,e];a.push({start:o,end:r})})})});var o=d3.select(".svg-bg-wrap");o.append("svg").attr("width","100%").attr("height",200*list.length+"px").selectAll("path").data(a).enter().append("path").attr("d",function(e){return t(e.start,e.end)}).attr("fill","none").attr("stroke","#428bca").attr("strock-width","2"),$(document).on("click",".node",function(){var t=$(this).prop("__data__").module;n.open({templateUrl:"app/components/trajectory/trajectory-modal.html",controller:"TrajectoryModalController",controllerAs:"$ctrl",resolve:{items:function(){return t}}})})}),a.$on("$destroy",function(){$(document).off("click",".node")})}function a(t,e,a){var n=this;n.items=a,n.close=function(){t.dismiss("cancel")},n.go=function(){t.dismiss("cancel"),e.go("log-detail")}}e.$inject=["$stateParams","$scope","$uibModal"],a.$inject=["$uibModalInstance","$state","items"],angular.module("fe").controller("TrajectoryController",e),angular.module("fe").controller("TrajectoryModalController",a)}(),function(){function t(t,e){t.doQuery=function(){t.logs=[{traceId:"1479094681326_9c8d6c70-97e4-4830-9cde-5704f4cb83ac_3179",time:"2016-11-14 10:38:21.134 - 2016-11-14 10:38:22.074",text:"正常完成"},{traceId:"1479092198958_e14fa3c3-371b-4c1e-9b9c-66433a4d3aa2_7482",time:"2016-11-14 10:38:21.134 - 2016-11-14 10:38:22.074",error:"list-group-item-danger",text:"失败"},{traceId:"1479094680610_cdb7e770-33f2-4357-a304-9de86629e512_5141",time:"2016-11-14 10:38:21.134 - 2016-11-14 10:38:22.074",text:"正常完成"}]},t.doOpen=function(t){var a=e.href("trajectory",{traceId:t});window.open(a,"_blank")}}t.$inject=["$scope","$state"],angular.module("fe").controller("QueryController",t)}(),function(){"use strict";function t(){function t(t){var e=this;e.relativeDate=t(e.creationDate).fromNow()}t.$inject=["moment"];var e={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"="},controller:t,controllerAs:"vm",bindToController:!0};return e}angular.module("fe").directive("acmeNavbar",t)}(),function(){"use strict";function t(t){function e(e,a,n,o){var r,l=t(a[0],{typeSpeed:40,deleteSpeed:40,pauseDelay:800,loop:!0,postfix:" "});a.addClass("acme-malarkey"),angular.forEach(e.extraValues,function(t){l.type(t).pause()["delete"]()}),r=e.$watch("vm.contributors",function(){angular.forEach(o.contributors,function(t){l.type(t.login).pause()["delete"]()})}),e.$on("$destroy",function(){r()})}function a(t,e){function a(){return n().then(function(){t.info("Activated Contributors View")})}function n(){return e.getContributors(10).then(function(t){return o.contributors=t,o.contributors})}var o=this;o.contributors=[],a()}a.$inject=["$log","githubContributor"];var n={restrict:"E",scope:{extraValues:"="},template:"&nbsp;",link:e,controller:a,controllerAs:"vm"};return n}t.$inject=["malarkey"],angular.module("fe").directive("acmeMalarkey",t)}(),function(){function t(t){var e=this;e.names=[1,2,3,4,5,6,7],e.showModal=function(){t.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"app/components/logDetail/modal.html",controller:"LogDetailModalController",controllerAs:"$ctrl"})}}function e(t){var e=this;e.cancel=function(){t.dismiss("cancel")}}t.$inject=["$uibModal"],e.$inject=["$uibModalInstance"],angular.module("fe").controller("LogDetailController",t),angular.module("fe").controller("LogDetailModalController",e)}(),function(){"use strict";function t(t,e){function a(a){function o(t){return t.data}function r(e){t.error("XHR Failed for getContributors.\n"+angular.toJson(e.data,!0))}return a||(a=30),e.get(n+"/contributors?per_page="+a).then(o)["catch"](r)}var n="https://api.github.com/repos/Swiip/generator-gulp-angular",o={apiHost:n,getContributors:a};return o}t.$inject=["$log","$http"],angular.module("fe").factory("githubContributor",t)}(),function(){"use strict";function t(t,e,a){function n(){r(),t(function(){l.classAnimation="rubberBand"},4e3)}function o(){a.info('Fork <a href="https://github.com/Swiip/generator-gulp-angular" target="_blank"><b>generator-gulp-angular</b></a>'),l.classAnimation=""}function r(){l.awesomeThings=e.getTec(),angular.forEach(l.awesomeThings,function(t){t.rank=Math.random()})}var l=this;l.awesomeThings=[],l.classAnimation="",l.creationDate=1479114886699,l.showToastr=o,n()}t.$inject=["$timeout","webDevTec","toastr"],angular.module("fe").controller("MainController",t)}(),function(){"use strict";function t(t){t.debug("runBlock end")}t.$inject=["$log"],angular.module("fe").run(t)}(),function(){"use strict";function t(t,e){t.state("query",{url:"/query",templateUrl:"app/components/query/query.html",controller:"QueryController"}).state("trajectory",{url:"/trajectory/:traceId",templateUrl:"app/components/trajectory/trajectory.html",controller:"TrajectoryController",controllerAs:"vm"}).state("log-detail",{url:"/log-detail",templateUrl:"app/components/logDetail/logDetail.html",controller:"LogDetailController",controllerAs:"vm"}),e.otherwise("/query")}t.$inject=["$stateProvider","$urlRouterProvider"],angular.module("fe").config(t)}(),function(){"use strict";angular.module("fe").constant("malarkey",malarkey).constant("moment",moment)}(),function(){"use strict";function t(t,e){t.debugEnabled(!0),e.allowHtml=!0,e.timeOut=3e3,e.positionClass="toast-top-right",e.preventDuplicates=!0,e.progressBar=!0}t.$inject=["$logProvider","toastrConfig"],angular.module("fe").config(t)}(),angular.module("fe").run(["$templateCache",function(t){t.put("app/main/main.html",'<div class=container><div><acme-navbar creation-date=main.creationDate></acme-navbar></div><div class="jumbotron text-center"><h1>\'Allo, \'Allo!</h1><p class=lead><img src=assets/images/yeoman.png alt="I\'m Yeoman"><br>Always a pleasure scaffolding your apps.</p><p class="animated infinite" ng-class=main.classAnimation><button type=button class="btn btn-lg btn-success" ng-click=main.showToastr()>Splendid Toastr</button></p><p>With ♥ thanks to the contributions of<acme-malarkey extra-values="[\'Yeoman\', \'Gulp\', \'Angular\']"></acme-malarkey></p></div><div class=row><div class="col-sm-6 col-md-4" ng-repeat="awesomeThing in main.awesomeThings | orderBy:\'rank\'"><div class=thumbnail><img class=pull-right ng-src="assets/images/{{ awesomeThing.logo }}" alt="{{ awesomeThing.title }}"><div class=caption><h3>{{ awesomeThing.title }}</h3><p>{{ awesomeThing.description }}</p><p><a ng-href={{awesomeThing.url}}>{{ awesomeThing.url }}</a></p></div></div></div></div></div>'),t.put("app/components/logDetail/logDetail.html",'<div><div class=list-group><a href=javascript:; class=list-group-item ng-repeat="x in vm.names" ng-click=vm.showModal()><p class=list-group-item-text><span class="label label-default">Action</span> <span class="label label-primary">Class</span> <span class="label label-success">Method</span> <span class="label label-info">Line</span> <span class="label label-warning">Service</span> <span class="label label-danger">Version</span> <span class="label label-danger">Time</span> <span class="label label-danger">Error</span></p></a></div></div>'),t.put("app/components/logDetail/modal.html",'<div class=modal-header><button type=button class=close ng-click=$ctrl.cancel()><span aria-hidden=true>&times;</span><span class=sr-only>Close</span></button></div><div class=modal-body><pre class=code>\n{\n    "Msg": {\n        "Msg": "返回结果",\n        "Headers": {},\n        "HttpMethod": "",\n        "RemoteUrl": "",\n        "Params": {},\n        "Returns": {\n            "RequestId": "26ab31b9-2a97-4ff3-a7c9-7a2b28cb6925",\n            "DomainRecordSet": [\n                {\n                    "KadId": "dn2016111003471101",\n                    "DomainRecordId": "dr2016111114495201",\n                    "DomainRecordName": "whoami.cnzz.com",\n                    "IsHttps": 1,\n                    "CertificateId": "ct2016111117420501",\n                    "Cname": "89eb09fcb74d149a.qscname.com",\n                    "CnameStatus": 0,\n                    "RequestThreshold": 200,\n                    "ConnectionThreshold": 200,\n                    "RecordCcStatus": 1,\n                    "SourceCount": 1,\n                    "CertifName": "test"\n                },\n                {\n                    "KadId": "dn2016111003471101",\n                    "DomainRecordId": "dr2016111114092601",\n                    "DomainRecordName": "sayhi.cnzz.com",\n                    "IsHttps": 0,\n                    "CertificateId": "",\n                    "Cname": "63a6706f681b3d6d.qscname.com",\n                    "CnameStatus": 0,\n                    "RequestThreshold": 120,\n                    "ConnectionThreshold": 120,\n                    "RecordCcStatus": 0,\n                    "SourceCount": 1\n                }\n            ]\n        }\n    }\n}\n		</pre></div><div class=modal-footer><button type=button class="btn btn-default" ng-click=$ctrl.cancel()>Close</button></div>'),t.put("app/components/navbar/navbar.html",'<nav class="navbar navbar-default navbar-fixed-top" role=navigation><div class=container-fluid><!-- Brand and toggle get grouped for better mobile display --><div class=navbar-header><button type=button class="navbar-toggle collapsed" data-toggle=collapse data-target=#bs-example-navbar-collapse-1><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a class=navbar-brand href=#>日志中心</a></div><!-- Collect the nav links, forms, and other content for toggling --><div class="collapse navbar-collapse" id=bs-example-navbar-collapse-1><ul class="nav navbar-nav"><li class=active><a href=index.html>日志分析</a></li><li class=dropdown uib-dropdown on-toggle=toggled(open)><a href=javascript:; id=nav-dropdown uib-dropdown-toggle class=dropdown-toggle data-toggle=dropdown>报表 <span class=caret></span></a><ul class=dropdown-menu role=menu uib-dropdown-menu aria-labelledby=nav-dropdown><li><a href=chart1.html>日访问量统计</a></li><li><a href=chart1.html>月访问量统计</a></li><li class=divider></li><li><a href=chart1.html>日响应时间统计</a></li><li><a href=chart1.html>月响应时间统计</a></li><li class=divider></li><li><a href=chart1.html>成功率统计</a></li></ul></li></ul></div><!-- /.navbar-collapse --></div><!-- /.container-fluid --></nav>'),t.put("app/components/query/query.html",'<div><div class="panel panel-info"><div class=panel-heading><h3 class=panel-title>日志查询</h3></div><div class=panel-body><form class=form-horizontal role=form><div class=form-group><label for=inputEmail3 class="col-sm-2 control-label">用户名</label><div class=col-sm-10><input type=text class=form-control id=userName placeholder=用户名></div></div><div class=form-group><label for=inputPassword3 class="col-sm-2 control-label">时间：从</label><div class=col-sm-10><input type=datetime-local class=form-control id=timeFrom placeholder=时间：从></div></div><div class=form-group><label for=inputPassword3 class="col-sm-2 control-label">时间：到</label><div class=col-sm-10><input type=datetime-local class=form-control id=timeTo placeholder=时间：到></div></div><div class=form-group><div class="col-sm-offset-2 col-sm-10"><button type=button class="btn btn-default" ng-click=doQuery()>查询</button></div></div></form></div><div class=list-group><a href=javascript:; class="list-group-item {{ log.error }}" ng-repeat="log in logs" ng-click=doOpen(log.traceId)><h4 class=list-group-item-heading>{{ log.traceId }}</h4><p class=list-group-item-text>{{ log.time }}&nbsp;{{ log.text }}</p></a></div></div></div>'),t.put("app/components/trajectory/trajectory-modal.html",'<!--\nCreated by yangdongxu on 2016/11/15.\n\n--><div class=modal-body><button type=button ng-repeat="item in $ctrl.items" ng-click=$ctrl.go() class="btn btn-default btn-lg btn-block">{{item}}</button></div><div class=modal-footer><button type=button ng-click=$ctrl.close() class="btn btn-primary btn-lg btn-block">ok</button></div>'),t.put("app/components/trajectory/trajectory.html","<!--\nCreated by yangdongxu on 2016/11/14.\n\n--><div class=trajectory-container><p class=trace-id>TraceId: {{vm.traceId}}</p><div class=canvas-wrap><div class=svg-wrap></div><div class=svg-bg-wrap></div></div></div>")}]);
//# sourceMappingURL=../maps/scripts/app-55197ab1d7.js.map
